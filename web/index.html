<html>
	<head>
		<title>462 Square</title>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.2.10/angular.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.2.10/angular-route.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>		
		<script src="cookieUtils.js"></script>

		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
		<link rel="stylesheet" href="css/flatly.min.css">	
		<link rel="stylesheet" href="css/styles.css">	

		<script>
			var app = angular.module('squareApp', ['ngRoute']);
			
			app.config(function($routeProvider) {
				$routeProvider
					.when('/', {
						templateUrl: '/pages/home.html',
						controller: 'homeCtrl',
						caseInsensitiveMatch: true
					})
					.when('/login', {
						templateUrl: '/pages/login.html',
						controller: 'loginCtrl',
						caseInsensitiveMatch: true
					})
					.when('/privacy', {
						template: "<p>You have no particular privacy here</p>",
						caseInsensitiveMatch: true
					})
					.when('/verify', {
						templateUrl: "/pages/verify.html",
						controller: "verifyCtrl",
						caseInsensitiveMatch: true
					})
					.otherwise({
						redirectTo: '/'
					})
			});
			
			app.controller("navCtrl", function($scope) {
				$scope.loggedIn = function() {
					if(checkCookie("username"))
						return true;
					else
						return false;
				}
				
				$scope.logout = function() {
					eraseCookie("username");
				}
			});
		</script>
		
		<script src="/controllers/homeCtrl.js"></script>
		<script src="/controllers/loginCtrl.js"></script>
		<script src="/controllers/verifyCtrl.js"></script>
		
	</head>
	<body ng-app="squareApp">
		<nav ng-controller="navCtrl" class="navbar navbar-default">
			<div class="container-fluid">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="#">
						<span class="logo">
							462 <span class="logoCapital">Square</span>
						</span>
					</a>
				</div>
				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav">
					</ul>
					<ul class="nav navbar-nav navbar-right">
						<li ng-if="!loggedIn()"><a style="padding: 15px" href="#login">Login</a></li>
						<li ng-if="loggedIn()"><a style="padding: 15px" href="#" ng-click="logout()">Logout</a></li>
					</ul>
				</div>
			</div>
		</nav>
		<div ng-view class="content">
		</div>
	</body>
</html>